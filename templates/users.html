{% extends "base.html" %}

{% block title %}Users{% endblock %}

{% block content %}
    
        <main class="mdl-layout__content">
            <div class="page-content">
                <section class="activity-feed">
                    <h4><b>ADMIN / List Users</b></h4>
                    <div class="button-container">
                        <a href="{{ url_for('add_user') }}" class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored">
                            Add User
                        </a>
                    </div>   </section>


                    <H4><b>LIST USERS</b></H4>
                
                    <table >
                        <!-- class="mdl-data-table mdl-js-data-table mdl-shadow--2dp" style="width: 70%;" -->
                        <thead>
                            <tr>
                                <th></th>
                                <th class="mdl-data-table__cell--non-numeric">ID</th>
                                <th class="mdl-data-table__cell--non-numeric">Username</th>
                                <!-- <th class="mdl-data-table__cell--non-numeric">Password</th> -->
                                <th class="mdl-data-table__cell--non-numeric">First Name</th>
                                <th class="mdl-data-table__cell--non-numeric">Last Name</th>
                                <th class="mdl-data-table__cell--non-numeric">Age</th>
                                <th class="mdl-data-table__cell--non-numeric">Email Address</th>
                                <th class="mdl-data-table__cell--non-numeric">Phone Number</th>
                                <th class="mdl-data-table__cell--non-numeric">Q ID</th>
                                <th class="mdl-data-table__cell--non-numeric">Address</th>
                                <th class="mdl-data-table__cell--non-numeric">Pass Out</th>
                                <th class="mdl-data-table__cell--non-numeric">Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for user in users %}
                            <tr>
                                <td>{{ loop.index }}</td>
                                <td class="mdl-data-table__cell--non-numeric">{{ user.user_id }}</td>
                                <td class="mdl-data-table__cell--non-numeric">{{ user.username }}</td>
                                <!-- <td class="mdl-data-table__cell--non-numeric">********</td> -->
                                <td class="mdl-data-table__cell--non-numeric">{{ user.first_name }} </td>
                                <td class="mdl-data-table__cell--non-numeric"> {{ user.last_name }}</td>
                                <td class="mdl-data-table__cell--non-numeric">{{ user.age }}</td>
                                <td class="mdl-data-table__cell--non-numeric">{{ user.email }}</td>
                                <td class="mdl-data-table__cell--non-numeric">{{ user.phone }}</td>
                                <td class="mdl-data-table__cell--non-numeric">{{ user.qualification_id }}</td>
                                <td class="mdl-data-table__cell--non-numeric">{{ user.address }}</td>
                                <td class="mdl-data-table__cell--non-numeric">{{ user.passout_year }}</td>
                                <td>
                                    <a href="{{ url_for('edit_user', id=user.user_id) }}" class="mdl-button mdl-js-button mdl-button--icon" title="Edit User">
                                        <i class="fas fa-edit"></i>
                                    </a>
                                    <form action="{{ url_for('delete_user', id=user.user_id) }}" method="POST" style="display: inline;">
                                        <button type="submit" class="mdl-button mdl-js-button mdl-button--icon" onclick="return confirm('Are you sure you want to delete this user?');" title="Delete User">
                                            <i class="fas fa-trash-alt"></i>
                                        </button>
                                    </form>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
            
                </div>
                
                    <br><br><br><br>
                    <footer class="mdl-mini-footer">
                        <div class="mdl-mini-footer__left-section">
                            <div class="mdl-logo" style="color: black;">SAP Admin Dashboard</div>
                            <ul class="mdl-mini-footer__link-list">
                                <li><a href="#">Help</a></li>
                                <li><a href="#">Privacy & Terms</a></li>
                            </ul>
                        </div>
                    </footer>
              
          
        </main>
        <script src="{{ url_for('static', filename='js/script.js') }}"></script>
    </div>
  
    {% endblock %}
